/* 彩色多级标题 */
:is(.b3-typography, .protyle-wysiwyg) :is(.h1, h1)>[spellcheck]:not(:empty), .b3-typography :is(.h1, h1) { 
    color: var(--QYL-h1); 
    --QYL-fluorescence-h-fix: var(--QYL-h1);
    --QYL-custom-h-style-fix: var(--QYL-h1);
}
:is(.b3-typography, .protyle-wysiwyg) :is(.h2, h2)>[spellcheck]:not(:empty), .b3-typography :is(.h2, h2) { 
    color: var(--QYL-h2);
    --QYL-fluorescence-h-fix: var(--QYL-h2); 
    --QYL-custom-h-style-fix: var(--QYL-h2);
}
:is(.b3-typography, .protyle-wysiwyg) :is(.h3, h3)>[spellcheck]:not(:empty), .b3-typography :is(.h3, h3) { 
    color: var(--QYL-h3);
    --QYL-fluorescence-h-fix: var(--QYL-h3); 
    --QYL-custom-h-style-fix: var(--QYL-h3);
}
:is(.b3-typography, .protyle-wysiwyg) :is(.h4, h4)>[spellcheck]:not(:empty), .b3-typography :is(.h4, h4) { 
    color: var(--QYL-h4); 
    --QYL-fluorescence-h-fix: var(--QYL-h4);
    --QYL-custom-h-style-fix: var(--QYL-h4); 
}
:is(.b3-typography, .protyle-wysiwyg) :is(.h5, h5)>[spellcheck]:not(:empty), .b3-typography :is(.h5, h5) { 
    color: var(--QYL-h5); 
    --QYL-fluorescence-h-fix: var(--QYL-h5); 
    --QYL-custom-h-style-fix: var(--QYL-h5);
}
:is(.b3-typography, .protyle-wysiwyg) :is(.h6, h6)>[spellcheck]:not(:empty), .b3-typography :is(.h6, h6) { 
    color: var(--QYL-h6); 
    --QYL-fluorescence-h-fix: var(--QYL-h6); 
    --QYL-custom-h-style-fix: var(--QYL-h6);
}

/* 标题折叠 */
.protyle-wysiwyg div[fold="1"][data-type=NodeHeading]::before {
    display: none;
}
.protyle-wysiwyg div[fold="1"][data-type="NodeHeading"]:is(.h1, .h2, .h3, .h4, .h5, .h6)>[spellcheck]:not(:empty) {
    color: rgb(from var(--QYL-custom-h-style-fix) r g b / 50%) !important;
    border-top: 2px solid rgb(from var(--QYL-custom-h-style-fix) r g b / 50%);
    border-bottom: 2px solid rgb(from var(--QYL-custom-h-style-fix) r g b / 50%);
    background-color: rgb(from var(--QYL-custom-h-style-fix) r g b / 20%);
    &:has([style*="color: var(--b3-font-color1)"]) {
        --QYL-custom-h-style-fix: var(--b3-font-color1);
        & span[style*="color: var(--b3-font-color1)"] {
            color: rgb(from var(--QYL-custom-h-style-fix) r g b / 50%) !important;
        }
    }
    &:has([style*="color: var(--b3-font-color2)"]) {
        --QYL-custom-h-style-fix: var(--b3-font-color2);
        & span[style*="color: var(--b3-font-color2)"] {
            color: rgb(from var(--QYL-custom-h-style-fix) r g b / 50%) !important;
        }
    }  
    &:has([style*="color: var(--b3-font-color3)"]) {
        --QYL-custom-h-style-fix: var(--b3-font-color3); 
        & span[style*="color: var(--b3-font-color3)"] {
            color: rgb(from var(--QYL-custom-h-style-fix) r g b / 50%) !important;
        }
    } 
    &:has([style*="color: var(--b3-font-color4)"]) {
        --QYL-custom-h-style-fix: var(--b3-font-color4); 
        & span[style*="color: var(--b3-font-color4)"] {
            color: rgb(from var(--QYL-custom-h-style-fix) r g b / 50%) !important;
        }
    }  
    &:has([style*="color: var(--b3-font-color5)"]) {
        --QYL-custom-h-style-fix: var(--b3-font-color5);
        & span[style*="color: var(--b3-font-color5)"] {
            color: rgb(from var(--QYL-custom-h-style-fix) r g b / 50%) !important;
        }
    }  
    &:has([style*="color: var(--b3-font-color6)"]) {
        --QYL-custom-h-style-fix: var(--b3-font-color6); 
        & span[style*="color: var(--b3-font-color6)"] {
            color: rgb(from var(--QYL-custom-h-style-fix) r g b / 50%) !important;
        }
    }  
    &:has([style*="color: var(--b3-font-color7)"]) {
        --QYL-custom-h-style-fix: var(--b3-font-color7); 
        & span[style*="color: var(--b3-font-color7)"] {
            color: rgb(from var(--QYL-custom-h-style-fix) r g b / 50%) !important;
        }
    }  
    &:has([style*="color: var(--b3-font-color8)"]) {
        --QYL-custom-h-style-fix: var(--b3-font-color8); 
        & span[style*="color: var(--b3-font-color8)"] {
            color: rgb(from var(--QYL-custom-h-style-fix) r g b / 50%) !important;
        }
    }  
    &:has([style*="color: var(--b3-font-color9)"]) {
        --QYL-custom-h-style-fix: var(--b3-font-color9); 
        & span[style*="color: var(--b3-font-color9)"] {
            color: rgb(from var(--QYL-custom-h-style-fix) r g b / 50%) !important;
        }
    }  
    &:has([style*="color: var(--b3-font-color10)"]) {
        --QYL-custom-h-style-fix: var(--b3-font-color10);  
        & span[style*="color: var(--b3-font-color10)"] {
            color: rgb(from var(--QYL-custom-h-style-fix) r g b / 50%) !important;
        }
    }  
    &:has([style*="color: var(--b3-font-color11)"]) {
        --QYL-custom-h-style-fix: var(--b3-font-color11); 
        & span[style*="color: var(--b3-font-color11)"] {
            color: rgb(from var(--QYL-custom-h-style-fix) r g b / 50%) !important;
        }
    }  
    &:has([style*="color: var(--b3-font-color12)"]) {
        --QYL-custom-h-style-fix: var(--b3-font-color12);  
        & span[style*="color: var(--b3-font-color12)"] {
            color: rgb(from var(--QYL-custom-h-style-fix) r g b / 50%) !important;
        }
    }  
    &:has([style*="color: var(--b3-font-color13)"]) {
        --QYL-custom-h-style-fix: var(--b3-font-color13); 
        & span[style*="color: var(--b3-font-color13)"] {
            color: rgb(from var(--QYL-custom-h-style-fix) r g b / 50%) !important;
        }
    }   
    &:has([style*="color: var(--b3-card-error-color)"]) {
        --QYL-custom-h-style-fix: var(--b3-card-error-color);  
        & span[style*="color: var(--b3-card-error-color)"] {
            color: rgb(from var(--QYL-custom-h-style-fix) r g b / 50%) !important;
        }
    }   
    &:has([style*="color: var(--b3-card-warning-color)"]) {
        --QYL-custom-h-style-fix: var(--b3-card-warning-color);  
        & span[style*="color: var(--b3-card-warning-color)"] {
            color: rgb(from var(--QYL-custom-h-style-fix) r g b / 50%) !important;
        }
    }   
    &:has([style*="color: var(--b3-card-info-color)"]) {
        --QYL-custom-h-style-fix: var(--b3-card-info-color); 
        & span[style*="color: var(--b3-card-info-color)"] {
            color: rgb(from var(--QYL-custom-h-style-fix) r g b / 50%) !important;
        }
    }   
    &:has([style*="color: var(--b3-card-success-color)"]) {
        --QYL-custom-h-style-fix: var(--b3-card-success-color);
        & span[style*="color: var(--b3-card-success-color)"] {
            color: rgb(from var(--QYL-custom-h-style-fix) r g b / 50%) !important;
        }
    }  
    &:has([style*="color: var(--b3-card-success-color)"]) {
        --QYL-custom-h-style-fix: var(--b3-card-success-color);
        & span[style*="color: var(--b3-card-success-color)"] {
            color: rgb(from var(--QYL-custom-h-style-fix) r g b / 50%) !important;
        }
    }
    &:has(span[style*="-webkit-text-stroke: 0.2px var(--b3-theme-on-background); -webkit-text-fill-color: transparent"]) {
        --QYL-custom-h-style-fix: gold;
        & span[style*="-webkit-text-stroke: 0.2px var(--b3-theme-on-background); -webkit-text-fill-color: transparent"] {
            color: rgb(from var(--QYL-custom-h-style-fix) r g b / 50%) !important;
        }
    }
}
.protyle-title__input {
    color: var(--b3-theme-primary);
}