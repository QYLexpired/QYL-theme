# 带来更丰富的笔记体验
###### 如果喜欢这个主题，欢迎在[GitHub](https://github.com/QYLexpired/QYL-theme)点个⭐小星星

#### 主要更新

##### v3.3.10

* 为题头图增加滚动视差效果（仅在开启隐藏页签或全高显示时生效）
* 优化文档页签
* 适配`叶归`插件
* 优化callout样式

#### 主题介绍

* **超高的界面可定制性**：多种布局选项和样式风格随意搭配，总有一种符合你的心意
* **light-dark二合一，共30种主题配色**
* **引述块自定义Callout**：通过块菜单-QYL自定义属性-引述块Callout-启用Callout样式来开启，引述块内第一个子块会作为标题
* **专注编辑模式**：使当前编辑的块自动保持在编辑器的垂直中心，且模糊未编辑的块来突出当前编辑的块，可通过快捷键<kbd>ALT</kbd>​+<kbd>W</kbd>来开关，不能与聚焦块高亮提示同时开启（此功能需消耗性能，若感知到卡顿请及时关闭）
* **隐藏顶栏**：隐藏顶部工具栏，可通过鼠标悬停在屏幕最上方的左右两侧来呼出顶栏，可通过连续按三次Q键快速开/关隐藏顶栏，若在窗口化状态无法通过鼠标悬停呼出顶栏，可调节窗口尺寸来恢复顶栏
* **垂直页签**：使文档页签垂直排列，可同时展示更多页签，为节省空间，仅对第一个文档栏生效，分屏的文档栏标签保持水平排列
* **顶栏融合**：将文档页签提升至顶栏区域，并自动避开顶栏按钮，不能与隐藏顶栏或垂直页签同时开启（由于此功能依赖文档位置计算，在左侧侧栏宽度变化时可能会导致略微卡顿）
* **毛玻璃效果**：使全局菜单、窗口应用毛玻璃风格（渲染样式需消耗性能，若发现卡顿或画面闪烁请及时关闭）
* **主题动画**：添加大量灵动、活泼的动画效果（渲染样式需消耗性能，若发现卡顿或画面闪烁请及时关闭）
* **墨水屏模式**：使界面变为边框化风格，在默认配色保持高对比度，适合墨水屏设备使用，不能与毛玻璃效果或扁平化风格同时开启
* **编辑器全宽显示**：减小编辑区域的左右间距
* **标记挖空**：使被标记的文字变为挖空样式，鼠标悬停时恢复文字，可用于抽记复习
* **列表辅助线**：在列表父项和子项间添加层级辅助线，可直观展示列表层级
* **聚焦块高亮提示**：给当前编辑的块添加阴影
* **扁平化风格**：极简界面风格
* **沉浸式顶栏**：使顶栏变为深色
* **撞色布局**：分区式界面布局，**绑定**顶栏融合，**不能**与沉浸式顶栏、垂直页签、隐藏顶栏、墨水屏模式同时开启
* **隐藏页签和面包屑** <sup>*🧪实验性*</sup>：开启后文档的页签和面包屑被隐藏，使页面更加干净整洁，减少视觉干扰
* **QYL自定义属性**：在块/文档菜单内添加QYL自定义属性项，用于调节不同类型块的样式
* **小彩蛋**：当超链接、块引链接、pdf标注链接被设置成13号背景色（最后一个背景色）后，将变为按钮样式；给文档/块设置自定义属性`link-style`的值为`按钮`，这个文档/该块内的所有超链接、块引链接、pdf标注链接变为按钮样式；给文档/块设置自定义属性`background-style`的值为`半高`，这个文档/该块内的所有文字背景色变成半高


#### 致谢

在制作QYL主题时，参考了很多优秀主题、内容创作者的灵感、代码、审美（有点像缝合怪），在此表示感谢，包括但不限于
* [Savor主题](https://github.com/royc01/notion-theme): 列表辅助线的实现方案、顶栏融合的CSS方案、样式审美、斜杠菜单多列展示思路、连接思源API的方法
* [Asri主题](https://github.com/mustakshif/Asri)：文档树缩进线的实现方案、样式审美、搜索列表多行展示方案、状态栏防遮挡样式、撞色布局、题头图与顶栏融合样式
* [OneNote主题](https://github.com/chenshinshi/OneNote)：多彩文档树样式
* [pink-room主题](https://github.com/StarDustSheep/pink-room)：配色审美
* [浅吟主题](https://github.com/TCOTC/Whisper)、[JeffreyChen](https://ld246.com/member/JeffreyChen)：移动端判断方法、图片九宫格排列实现方案的优化
* [wilsons](https://ld246.com/member/wilsons)：状态栏浮动方案
* [Rem Craft主题](https://github.com/svchord/Rem-Craft)：象牙配色、乌木配色、扁平化风格

#### 更新历史

##### v3.3.9

* 新增风格选项：`网格化搜索列表`，开启后，搜索结果将以网格化的卡片形式排列
* dark增加配色：`拿铁`
* QYL自定义属性样式增加：块样式/文档样式-格点
* 隐藏页签与垂直页签不再能同时开启
* 全高界面不再绑定撞色布局
* 全高界面可以与隐藏顶栏同时开启
* 修复同时开启沉浸式顶栏和顶栏融合时页签位置异常的问题

##### v3.3.8

* 新增样式选项：全高界面（参考Asri主题），此样式绑定撞色布局，因此无法与隐藏顶栏、顶栏融合、垂直页签、墨水屏模式同时开始，此样式与隐藏页签和面包屑互斥
* 完全重做隐藏页签功能，解决绝大部分问题
* 取消顶栏融合页签降级机制
* 优化文档标签样式
* 略微增大圆角弧度

##### v3.3.7

* 更换主题LOGO
* 为QYL主题设置窗口增加分组
* 重构部分JS
* 优化`隐藏页签和面包屑`
    * 修复未添加题头图或图标时文档的添加题头图按钮无法点击的问题
    * 聚焦时显示面包屑
    * 只隐藏文档的面包屑（如闪卡页签、插件页签的面包屑常驻显示）
    * 由于QYL主题功能的搭配情况比较复杂，并且此样式改动较大，无法保证全部适配，如遇到其他未知缺陷导致异常，请及时关闭此样式并反馈给我

##### v3.3.6

* 增加样式选项`隐藏页签和面包屑`
    * 开启后文档的页签和面板屑被隐藏
    * 作用：使页面更加干净整洁，减少视觉干扰
    * 将鼠标悬浮在文档左上角可呼出页签
    * 将鼠标悬浮在文档右上角略微**靠下**处可呼出面包屑（为了避免页签和面包屑重合）
    * 开启顶栏融合后，为避免与顶栏按钮重合，左上角和右上角的页签、面包屑呼出位置要更靠下一点
    * 已知缺陷1：隐藏页签后拖拽页签合并至其他页签栏时，目标页签栏不可见，需要盲操作，建议改为直接拖至目标文档来合并
    * 已知缺陷2：同时开启顶栏融合时，样式不太好看，建议再开启`撞色布局`（配合题头图可达到铺满整个文档上方的效果）
    * 由于QYL主题功能的搭配情况比较复杂，无法保证全部适配，如遇到其他未知缺陷导致异常，请及时关闭此样式并反馈给我

##### v3.3.4

* 重构顶栏融合，彻底解决所有遗留问题并增加降级机制：
    * 修复右侧dock栏展开时部分页签被压缩的的问题
    * 修复部分分屏场景页签被压缩的问题
    * 修复新窗口打开页签时无法拖拽的问题
    * 当左上角和右上角文档可用空间过小时，页签将下移以尽量展示更多页签
    * 增加顶部可拖拽区域
* 修复斜杠菜单表情面板底部异常

##### v3.3.3

* 主题配置不再参与多端同步（使多个设备可配置不同的主题设置）
* 钉住页签和未钉住页签间增加分隔线
* 重做面包屑样式
* 重做light的默认配色
* 优化`撞色布局`的部分细节

##### v3.3.0 ~ V3.3.2

* 端午安康！！！
* 新增样式选项`撞色布局`（复刻Asri主题），此样式**绑定**顶栏融合，**不能**与沉浸式顶栏、垂直页签、隐藏顶栏、墨水屏模式同时开启（主题会自动判断，无需手动开启或关闭相应功能）
* light增加配色：`金秋`（此配色建议使用`撞色布局`）
* 重做`湖畔`配色
* 调整`勃艮第`配色
* 修复同时开启沉浸式顶栏和顶栏融合且不存在任何页签时顶栏样式异常的问题（出于性能考虑，无法完美修复）
* 修复题头图错误

##### v3.2.13

* 优化手机端编辑器工具栏样式
* 多彩文档树采用更自然柔和的颜色
* 为反链面板文档名增加吸顶
* 为代码块语言栏增加鼠标悬停时的吸顶
* 优化搜索列表文档名吸顶效果
* 优化搜索结果高亮效果，提高辨识度

##### v3.2.12

* 重做标题折叠样式（原方案影响性能，故舍弃）
* 移除/优化部分影响性能的CSS代码
* 图片九宫格排列样式不再默认支持（影响性能），需通过QYL主题设置窗口开启
* 本次更新后性能再次有较大幅度的提升！
* 优化专注编辑模式快捷键实现方案，方便移除

##### v3.2.11

* 为`专注编辑模式`增加快捷键：<kbd>ALT</kbd>​+<kbd>W</kbd>
* 更改移动端判断方法（参考[浅吟](https://github.com/TCOTC/Whisper)主题）
* 优化代码块背景色
* 修复搜索结果按文档分组时向下滚动发生文字重叠的问题

##### v3.2.10

* QYL自定义属性标题样式增加`故障`
* 专注编辑模式适配手机端
* 优化文档标签

##### v3.2.9 & V3.2.8

* 优化斜杠菜单
* 优化文字配色
* 修复开启主题动画后，斜杠菜单和编辑器工具栏可能超出窗口的问题
* 修复数据库文字重影问题
* 修复手机端子菜单背景色异常的问题
* 修复开启多彩标签后标签内光标消失的问题
* 修复题头图无法调整位置的问题
* 修复部分动画错误

##### v3.2.7

* dark新增配色：`沧溟`、`蒸汽`
* QYL自定义属性表格样式增加`强化表头`、`表格颜色`、`全宽表格`
* QYL自定义属性列表样式增加`隐藏序标`
* 优化`专注编辑模式`：不再对反链面板、搜索预览界面、闪卡界面等运用模糊效果
* 优化开启`编辑器全宽显示`后动态滚动条的位置，防止遮挡反链标识
* 题头图增加渐变消失效果
* 修复开启毛玻璃效果后，部分全屏界面异常的问题
* 取消表格动画（存在已知问题）

##### v3.2.6

* 增加功能`专注编辑模式`：开启后当前编辑的块自动保持在编辑器的垂直中心（手机端不生效），且模糊未编辑的块来突出当前编辑的块，不能与聚焦块高亮提示同时开启（此功能需消耗性能，若感知到卡顿请及时关闭）
* Q：与打字机模式插件有什么区别？A：没有区别（或者说功能更弱于打字机模式，但样式更符合我的审美）
* 灰雀配色细节优化
* 优化虚拟引用样式
* 降低主菜单按钮和侧栏按钮背景色的饱和度

##### v3.2.5 & v3.2.4

* light增加配色：`灰雀`
* 移除标题设置颜色时自定义属性标题样式的颜色相应变化的特性（因无法避免has伪类的使用，会影响性能）
* 简化引述块嵌套的样式逻辑（因无法避免has伪类的使用，会影响性能）
* 更改引述块Callout样式应用的逻辑：须在QYL自定义属性菜单中启用（防止影响性能）
* 为QYL自定义属性的文本增加英语和繁体中文
* （此次更新后，流畅度有较大幅度的提升）

##### v3.2.3

* 移除文档全宽显示的自定义属性（会引起编辑器卡顿）
* 垂直排列超级块增加自定义属性`垂直软换行排列`，用于将不同块的文字排列转化成软换行样式
* 修复开启顶栏融合后部分分屏场景下页签栏最大宽度异常的问题
* 提供关闭引述块Callout样式的选项

##### v3.2.2

* 重做标记挖空样式
* 优化金箔效果
* 优化荧光效果
* 优化聚焦块高亮功能，防止与其他插件产生冲突

##### v3.2.1

* 新增功能：`引述块自定义Callout`，使用方法：在引述块的第一个块内输入文字，然后将其`加粗`，此时引述块将自动变为Callout样式，可通过块菜单-QYL自定义属性-Callout颜色来进行颜色更改
* 继续增加大量动效
* 优化各种配色的文字颜色

##### v3.2.0

* 增加大量动效，快开启主题动画体验吧~
* light：增加配色`青柠`
* 重构大量CSS，方便后期维护
* 修复顶栏按钮未居中的问题
* 修复列表折叠样式错误，优化任务列表折叠样式
* 修复数据库复选框错位和异常闪烁的问题
* 修复将列表转化为脑图后，任务列表复选框消失的问题
* 修复列表脑图视图导出时样式异常的问题
* 重做输入框、下拉框等的样式
* 修复开启扁平化风格后，部分菜单背景色丢失的问题
* 隐藏手机端被禁用的QYL主题设置项
* 修复行级备注展示时不能换行的问题

##### v3.1.5

* 优化部分界面细节
* 修复父列表与子列表合成为垂直排列超级块时，列表辅助线异常的问题
* 将列表转化为其他视图时，禁用其列表辅助线，防止出现样式异常
* 对插件`叶归`进行大量样式适配
* 优化QYL自定义块属性`style`的块折叠样式
* QYL自定义块属性`style`适配引述块

##### v3.1.4

* dark：增加配色`午夜`
* 修复CSS自定义属性样式手机端不生效的问题
* 优化dark默认配色
* 优化部分阴影效果
* 优化设置块最大高度后，备注/别名等的显示效果
* 增加3个块最大高度的档位
* 强制禁用手机端扁平化风格，防止样式错误

##### v3.1.3

* 适配`叶归`插件
* 修复多彩标题导出PDF时不生效的问题
* 修复多彩标签和多彩行级代码导出PDF时不生效的问题
* 强制禁用手机端沉浸式顶栏，防止样式错误
* 强制禁用手机端毛玻璃效果，防止样式错误
* 强制禁用手机端墨水屏模式，防止样式错误

##### v3.1.2 & v3.1.1

* light：新增配色`珊瑚`
* light：新增配色`薄荷`
* 优化乌木配色
* 优化暮霭配色
* 优化引述块样式，当出现引述块嵌套时，引述块由引号伪元素样式变为左边框样式（无嵌套时仍为引号伪元素样式）
* 优化css自定义属性的性能
* 优化同时开启沉浸式顶栏和顶栏融合时，dark聚集页签的背景色
* 优化QYL自定义属性菜单，对于垂直排列的超级块，不再出现水平排列超级块间距调整选项
* 增加超级块`sb-rowgap`自定义属性选项，可用于调整垂直排列超级块的横向间距
* 修复开启扁平化风格后部分输入框无法分辨的问题

##### v3.1.0

* 优化状态栏，实现对非编辑器页面的动态防遮挡（防遮挡样式借鉴Asri主题）
* 修复闪卡复习界面的按钮样式错误
* 优化乌木配色行级代码字体颜色
* 修复先开启扁平化风格后，还能开启墨水屏模式的错误

##### v3.0.12 & v3.0.11

* 重做按钮和页签闪光动效，以自适应按钮和页签宽度，并优化动画表现
* 重构垂直页签、顶栏融合的部分实现方式，以提升性能

##### v3.0.10

* 优化图片查看界面
* 优化`九宫格排列`样式的部分细节
* 优化`三线表`样式